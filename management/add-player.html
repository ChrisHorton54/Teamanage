<!DOCTYPE html>
<html>
  <head>
    <title>Teamanage - Squads</title>
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <script type="text/javascript" src="../js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" charset="utf-8">

var pictureSource;   
var destinationType; 

document.addEventListener("deviceready",onDeviceReady,false);

function onDeviceReady() 
{
    pictureSource=navigator.camera.PictureSourceType;
    destinationType=navigator.camera.DestinationType;
}


function onPhotoURISuccess(imageURI) 
{
    console.log(imageURI);
    var largeImage = document.getElementById('largeImage');
    largeImage.style.display = 'block';
    largeImage.src = imageURI;
}

function onPhotoDataSuccess(imageURI) 
{ 
    var imgProfile = document.getElementById('imgProfile');
    imgProfile.src = imageURI;
    if(sessionStorage.isprofileimage==1)
    {
        getLocation();
    }
    movePic(imageURI);
}

function onFail(message) 
{
    alert('Failed because: ' + message);
}

function movePic(file)
{ 
    window.resolveLocalFileSystemURI(file, resolveOnSuccess, resOnError); 
} 

function resolveOnSuccess(entry)
{ 
    var d = new Date();
    var n = d.getTime();
    var newFileName = n + ".jpg";
    var myFolderApp = "MyAppFolder";
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fileSys) 
    {      
        fileSys.root.getDirectory( myFolderApp,
                {create:true, exclusive: false},
                function(directory) 
                {
                    entry.moveTo(directory, newFileName,  successMove, resOnError);
                },
        resOnError);
    },
    resOnError);
}

function successMove(entry) 
{
    sessionStorage.setItem('imagepath', entry.fullPath);
}

function resOnError(error) 
{
    alert(error.code);
}

function capturePhotoEdit() 
{
    navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
    destinationType: destinationType.DATA_URL });
}

function getPhoto(source) 
{
    navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
    destinationType: destinationType.FILE_URI,
    sourceType: source });
}

function onFail(message) 
{
    alert('Failed because: ' + message);
}

</script>
  </head>
  <body>
      <img src="../img/background.jpg" id="background" alt="background">
      <header>
        <img class="menu" src="../img/menu.png" alt="Menu" title="Menu" />
        <h2 id="club_name"></h2>
        <div id="popup-nav">
            <div id="popup-nav-content">
                <img src="../img/arrow-head.png" class="arrow-head" title="Arrow Head" alt="Arrow Head" />
                <a href="squad.html"><div class="nav-block first">
                        <img src="../img/squad-nav.jpg" title="Squad" alt="Squad" />
                        <h3>Squad</h3>
                    </div></a> 
                <a href=""><div class="nav-block second">
                        <img src="../img/events-nav.jpg" title="Events" alt="Events" />
                        <h3>Events</h3>
                    </div></a> 
                <a href=""><div class="nav-block third">
                        <img src="../img/finances-nav.jpg" title="Finances" alt="Finances" />
                        <h3>Finances</h3>
                    </div></a>
                <div class="clear"></div>
                <a href=""><div class="nav-block first">
                        <img src="../img/doc-nav.jpg" title="Documents" alt="Documents" />
                        <h3>Documents</h3>
                    </div></a> 
                <a href=""><div class="nav-block second">
                        <img src="../img/stats-nav.jpg" title="Stats" alt="Stats" />
                        <h3>Stats</h3>
                    </div></a>
                <a href=""><div class="nav-block third">
                        <img src="../img/gallery-nav.jpg" title="Gallery" alt="Gallery" />
                        <h3>Gallery</h3>
                    </div></a>
                <div class="clear"></div>
                <a href=""><div class="nav-block first">
                        <img src="../img/fantalk-nav.jpg" title="Fan Talk" alt="Fan Talk" />
                        <h3>Fan Talk</h3>
                    </div></a>
                <div class="nav-block second log-out">
                        <img src="../img/fantalk-nav.jpg" title="Log Out" alt="Log Out" />
                        <h3>Log Out</h3>
                    </div>
            </div>
        </div>
      </header>
      <div class="section">
          <h2>Add New Player</h2>
          <div class="clear"></div>
        <div class="section-body">
            <div class="section-content">
                <div id="player-image">
                    <img onclick="getPhoto(pictureSource.PHOTOLIBRARY);" src="../img/gallery-nav.jpg" style="width:100px;" id="largeImage"/>
                </div>
                <div id="player-name-section">
                    <p>Player Name</p>
                    <input type="text" id="player-name" />
                </div>
                <div class="clear"></div>
                <div id="player-email-section">
                    <p>Player Email</p>
                    <input type="text" id="player-email" />
                </div>
                <div id="player-description-section">
                    <p>Player Description</p>
                    <textarea type="text" id="player-description"></textarea>
                </div>
                <div id="player-position-section">
                    <p>Position</p>
                    <select id="position">
                        <option value="Goalkeeper">Goalkeeper</option>
                        <option value="Defender">Defender</option>
                        <option value="Midfielder">Midfielder</option>
                        <option value="Forward">Forward</option>
                    </select>
                </div>
                <div class="clear"></div>
                <br/>
              <a href="#" class="submit player-submit" ><p>Add Player</p></a>
            </div>
        </div>
      </div>
      <script type="text/javascript" src="../js/teamanage.js"></script>
      <script type="text/javascript" src="phonegap.js"></script>
      <script type="text/javascript" src="cordova.js"></script>
  </body>
</html>